### http 相关


### tcp 


网络协议分层


客户端:  应用层  传输层  网络层  数据链路层  物理层

服务端:  物理层  数据链路层  网络层  传输层  应用层



物理层: 物理硬件设备相关东西

数据链路层: 实体之间建立数据链路的链接

网络层: 为数据在节点之间传输创建逻辑链路

传输层: 为用户提供可靠的端对端服务 . 传输层向高层屏蔽了下层数据通信的细节

应用层: http 等协议 为软件提供应用 屏蔽了网络传输相关细节

### http历史

http/0.9 

只有一个get
没有header等描述数据
服务器发送完毕就关闭tcp连接

http/1.0 
增加 post 等很多命令
增加status code 和header
增加多字符集支持,多部分发送,权限,缓存等


http/1.1
持久连接
pipeline  
增加host 和其他一些命令

http2
所有数据二进制传输(之前是字符串)
同一个连接发送多请求可以不再需要按书序
头信息压缩以及推送等提高效率的功能


### 三次握手
在建立链接后 


### uri  url run 

uri 统一资源标识符
用来标识互联网上的信息资源
包括了url和run

url  统一资源定位器

shema :// user : password @ host : port / path  ? query

urn 永久统一资源定位符

### http 报文格式
首行/起始行
请求报文:  GET /test/hi  HTTP/1.0
响应报文:  HTTP/1.0 200 OK

首部


请求头和请求体中间用空行隔开



### 方法
get post  put  delete

### code

定义服务器对请求处理的结果




### cors 的限制
允许方法: get / head / post


content-type : text/plain  multipart/form-data   application/x-www-form-urlencoded

请求头限制: 只允许一些请求头
xmlhttpres




### http 可缓存性
cache-control: public  任何网络节点都可以缓存(http 请求过程中存在多级缓存,中间存在诸多代理服务器)
private   : 只有发起请求的客户端可以缓存
no-cache : 不直接使用缓存,需要服务器验证
no-store : 不可以缓存,必须到服务器获取源信息
no-transorm: 不允许改动返回内容


max-age= seconds
s-maxage ,跟max-age 相同.为代理服务器的设置









本地dns  (dns: 域名服务)
1. 本地dns到底是什么？为什么有时候看到的本地dns的ip是局域网类型的ip?

有的人说本地dns的概念——————是运营商提供的dns，

有的人也说，是你的局域网里的路由器一类的设备里的dns。

2. 权威dns服务器是什么？ 是域名商在管理他吗？


第一个问题：本地DNS一般是指你电脑上网时IPv4或者IPv6设置中填写的那个DNS。这个有可能是手工指定的或者是DHCP自动分配的。
如果你的电脑是直连运营商网络，一般默认设置情况下DNS为DHCP分配到的运营商的服务器地址。如果你的电脑和运营商之间还加了无线或者有线路由，
那极有可能路由器本身还内置了一个DNS转发器，这玩意的作用是将发往他所有的DNS请求转发到上层DNS。此时由于路由器本身也接管了下挂电脑的DHCP服务，
所以它分配给下面电脑的DNS地址就是它自身，所以你能看到电脑的DNS分配到的可能是192.168.1.1。实际上就是路由器自身，而路由器的DNS转发器将请求转发到上层ISP的DNS。
所以这里说DNS是局域网或者是运营商的都可以（因为最终都是转发到运营商，小细节不用纠结）。


第二个问题：权威服务器是特殊的DNS服务器，所谓的权威是针对特定域名来说的。所以一般会说某某域名的权威DNS是谁，不能单纯的抛离域名问权威DNS是谁。
是域名商在管理，负责解析在他这里购买的域名的权威解析（当然也存在此处购买域名挂靠别处权威的情况。同样，不要纠结于小细节，意思懂了就行。如果要了解原理请查找一下NS记录这个名词）。


浏览器缓存: 只存下浏览器自己访问过的域名.
chrome: chrome://net-internals/#dns:
本地操作系统缓存: 电脑访问过的, 具体可通过hosts文件设置
windows: ipconfig /displaydns
DNS 服务器: 包括路由缓存和互联网DNS服务器, 以及13台根服务器
a. 电脑通过路由器(或交换机)连入互联网, 为了加快访问的时间, 缓存用的域名
b. 互联网DNS服务器, 是路由缓存的上一级, 一般为宽带运营商
c. 一直到最后, 最全的就是根服务器, 一共13台, 通过物理文件的冗余, 分摊全球的域名查询任务


DNS查找顺序：浏览器缓存> 本地操作系统缓存> 路由器缓存  > IPS服务器缓存   > 跟域名服务器缓存  > 顶级域名服务器缓存  > 主域名服务器缓存